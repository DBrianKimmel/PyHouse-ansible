# Name:    PyHouse-ansible/playbook-production.yaml
# Author:  D. Brian Kimmel
# Created: 2018-04-19
# Updated: 2018-04-19
#
# This is the top level playbook for production computers.
# This playbook is a dispatcher.












---

- name:             Playbook-Production
  strategy:         linear
  hosts:            all
  gather_facts:     yes

  pre_tasks:

  - name:           Play-Production - PreTask-01 - List the pyh_role for each host
    debug:
      msg: "Installing Production for {{ pyh_hostname }} - {{ pyh_roles }}"
    tags: always

# Now define the plays

# Now get the proper Production playbook(s)
- import_playbook: "./playbooks/production-pis.yaml"
#  when:
#  - tag_production is defined

- import_playbook: "./playbooks/production-nucs.yaml"
#  when:
#  - tag_production is defined

- import_playbook: "./playbooks/production-others.yaml"
#  when:
#  - tag_production is defined

### END DBK
