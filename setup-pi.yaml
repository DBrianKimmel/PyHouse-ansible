# Name:    PyHouse-ansible/setup-pi.yaml - the houses playbook
# Author:  D. Brian Kimmel
# Created: 2017-09-18
# Updated: 2017-09-22
#
# This is a playbook that will set up a raspberry pi that is just being put into service.
#
# Requirements:
#   a freshly created ssd card with the latest version of raspbian-lite
#   an empty "ssh" file in the boot partition.
#   an ethernet connection.
#   the IP address of that connection placed in the host ini file
#
#
# Run the following commands:
#   cd ~/workspace/PyHouse-ansible
#   ansible-playbook -i inventories/setup/hosts -k  setup-pi.yaml

---

- hosts: setup-pi
  remote_user: pi
#  remote_password: raspberry
  become: yes
  become_method: sudo
  gather_facts: yes
#  ask_pass: yes

  vars:
    - uUserName:    briank
    - uComment:     "D. Brian Kimmel"
    - uHomeDir:     "/home/{{ uUserName }}"
    - uPrivateKey:  "{{ uHomeDir }}/.ssh/id_rsa"

  roles:
    - common

### END DBK
