# Name:    PyHouse-ansible/roles/install-basic-system/tasks/main.yaml
# Author:  D. Brian Kimmel
# Created: 2018-06-27
# Updated: 2018-07-02
#
# This role will do the basics on each computer.
#
# Set up ntp
# set timezone to EST
# Add admin user
# Set up software update schedule
# MOTD
# SSH and VNC access






---

- name: Task-00 - main info for the role.
  debug:
    msg:
      - "Dist:          {{ ansible_os_family }}"
      - "Lsb:           {{ ansible_lsb }}"

# sudo apt install python-pip python-dev python-setuptools python-virtualenv git libyaml-dev build-essential
- name: Task-01 - Install apt packages
  ignore_errors: yes
  apt:
    name:               "{{ item }}"
    state:              latest
  with_items:           "{{pyh_extra_apt_packages}}"

- name: Main-Task-02 - Set ip autoreboot
  include_tasks:        auto-reboot.yaml

- name: Main-Task-03 - Set avahi
  include_tasks:        setup-avahi.yaml


### END DBK
