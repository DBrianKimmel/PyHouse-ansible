# Name:    PyHouse-ansible/roles/networking/templates/interfaces.j2
# Author:  D. Brian Kimmel
# Created: 2017-10-15
# Updated: 2018-04-06

# This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).
#
# Used by Ubuntu (on Nucs)

source /etc/network/interfaces.d/*

# The loopback network interface
auto lo
iface lo inet loopback

{% for if_name in ansible_interfaces %}
{% if if_name != "lo" and not if_name.startswith('sit') %}
#
auto {{ if_name }}
iface {{ if_name }} inet static
{% if if_name.startswith('e') %}
    ipaddress {{pyh_ethernet_ip}}
    ip6address {{pyh_ipv6_prefix}}{{pyh_ipv6_eth_suffix}}{{pyh_ipv6_netmask}}
    netmask {{pyh_router_netmask}}
    gateway {{pyh_router_address}}
{% endif %}
{% if if_name.startswith('w') %}
    address {{pyh_wifi_ip}}
    netmask {{pyh_router_netmask}}
    gateway {{pyh_router_address}}
{% endif %}
{% endif %}
{% endfor %}

dns-nameservers {{pyh_router_nameservers}}

### END DBK
